local arizon = Instance.new("ScreenGui")
arizon.Name = "arizon"
arizon.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
arizon.Parent = game.CoreGui

local Library = {}
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local HTTPService = game:GetService("HttpService")

function Library:Create(table)
    local main = Instance.new("Frame")
    main.Name = "main"
    main.BackgroundColor3 = Color3.fromRGB(30, 30, 30) -- Darker background
    main.Size = UDim2.fromOffset(600, 400) -- Adjusted size for new layout

    local uICorner = Instance.new("UICorner")
    uICorner.Name = "uICorner"
    uICorner.CornerRadius = UDim.new(0, 6)
    uICorner.Parent = main

    local topBar = Instance.new("Frame")
    topBar.Name = "topBar"
    topBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40) -- Top bar background
    topBar.Size = UDim2.fromOffset(600, 30) -- Adjusted size
    topBar.Parent = main

    local title = Instance.new("TextLabel")
    title.Name = "title"
    title.Font = Enum.Font.Gotham
    title.Text = table.Name .. " - fiji was here!!!!" -- Title text from image
    title.TextColor3 = Color3.fromRGB(180, 180, 180) -- Lighter text color
    title.TextSize = 14 -- Adjusted text size
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title.BackgroundTransparency = 1
    title.Position = UDim2.fromScale(0.02, 0.25) -- Adjusted position
    title.Size = UDim2.fromOffset(200, 18) -- Adjusted size
    title.Parent = topBar

    -- Close button (position adjusted for new top bar)
    local close = Instance.new("ImageButton")
    close.Name = "close"
    close.Image = "rbxassetid://6031094678"
    close.ImageColor3 = Color3.fromRGB(126, 126, 126)
    close.ScaleType = Enum.ScaleType.Fit
    close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    close.BackgroundTransparency = 1
    close.Position = UDim2.fromScale(0.97, 0.25) -- Adjusted position
    close.Size = UDim2.fromOffset(16, 16)
    close.Parent = topBar

    -- Added tab buttons container
    local tabButtonsContainer = Instance.new("Frame")
    tabButtonsContainer.Name = "tabButtonsContainer"
    tabButtonsContainer.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    tabButtonsContainer.BackgroundTransparency = 1
    tabButtonsContainer.Position = UDim2.fromOffset(100, 0) -- Position after title
    tabButtonsContainer.Size = UDim2.fromOffset(400, 30) -- Size to fill remaining space
    tabButtonsContainer.Parent = topBar

    local uIListLayoutTabs = Instance.new("UIListLayout")
    uIListLayoutTabs.Name = "uIListLayoutTabs"
    uIListLayoutTabs.FillDirection = Enum.FillDirection.Horizontal -- Horizontal layout
    uIListLayoutTabs.HorizontalAlignment = Enum.HorizontalAlignment.Left
    uIListLayoutTabs.VerticalAlignment = Enum.VerticalAlignment.Center
    uIListLayoutTabs.Padding = UDim.new(0, 10) -- Padding between tabs
    uIListLayoutTabs.Parent = tabButtonsContainer

    -- Placeholder tab buttons (will be created dynamically later)
    local legitTab = Instance.new("TextButton")
    legitTab.Name = "legitTab"
    legitTab.Text = "Legit"
    legitTab.Font = Enum.Font.Gotham
    legitTab.TextSize = 12
    legitTab.TextColor3 = Color3.fromRGB(180, 180, 180)
    legitTab.BackgroundTransparency = 1
    legitTab.Size = UDim2.fromOffset(50, 20)
    legitTab.Parent = tabButtonsContainer

    local ragebotTab = Instance.new("TextButton")
    ragebotTab.Name = "ragebotTab"
    ragebotTab.Text = "Ragebot"
    ragebotTab.Font = Enum.Font.Gotham
    ragebotTab.TextSize = 12
    ragebotTab.TextColor3 = Color3.fromRGB(180, 180, 180)
    ragebotTab.BackgroundTransparency = 1
    ragebotTab.Size = UDim2.fromOffset(60, 20)
    ragebotTab.Parent = tabButtonsContainer

    local visualsTab = Instance.new("TextButton")
    visualsTab.Name = "visualsTab"
    visualsTab.Text = "Visuals"
    visualsTab.Font = Enum.Font.Gotham
    visualsTab.TextSize = 12
    visualsTab.TextColor3 = Color3.fromRGB(180, 180, 180)
    visualsTab.BackgroundTransparency = 1
    visualsTab.Size = UDim2.fromOffset(60, 20)
    visualsTab.Parent = tabButtonsContainer

    local skinsTab = Instance.new("TextButton")
    skinsTab.Name = "skinsTab"
    skinsTab.Text = "Skins"
    skinsTab.Font = Enum.Font.Gotham
    skinsTab.TextSize = 12
    skinsTab.TextColor3 = Color3.fromRGB(180, 180, 180)
    skinsTab.BackgroundTransparency = 1
    skinsTab.Size = UDim2.fromOffset(50, 20)
    skinsTab.Parent = tabButtonsContainer

    local miscTab = Instance.new("TextButton")
    miscTab.Name = "miscTab"
    miscTab.Text = "Misc"
    miscTab.Font = Enum.Font.Gotham
    miscTab.TextSize = 12
    miscTab.TextColor3 = Color3.fromRGB(180, 180, 180)
    miscTab.BackgroundTransparency = 1
    miscTab.Size = UDim2.fromOffset(50, 20)
    miscTab.Parent = tabButtonsContainer

    local luasTab = Instance.new("TextButton")
    luasTab.Name = "luasTab"
    luasTab.Text = "Luas"
    luasTab.Font = Enum.Font.Gotham
    luasTab.TextSize = 12
    luasTab.TextColor3 = Color3.fromRGB(180, 180, 180)
    luasTab.BackgroundTransparency = 1
    luasTab.Size = UDim2.fromOffset(50, 20)
    luasTab.Parent = tabButtonsContainer

    local settingsTab = Instance.new("TextButton")
    settingsTab.Name = "SettingsTab"
    settingsTab.Text = "Settings"
    settingsTab.Font = Enum.Font.Gotham
    settingsTab.TextSize = 12
    settingsTab.TextColor3 = Color3.fromRGB(180, 180, 180)
    settingsTab.BackgroundTransparency = 1
    settingsTab.Size = UDim2.fromOffset(60, 20)
    settingsTab.Parent = tabButtonsContainer

    -- Main content area
    local contentFrame = Instance.new("Frame")
    contentFrame.Name = "contentFrame"
    contentFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    contentFrame.Size = UDim2.fromOffset(600, 370) -- Remaining space
    contentFrame.Position = UDim2.fromOffset(0, 30) -- Position below top bar
    contentFrame.Parent = main

    -- Left panel for Configs
    local leftPanel = Instance.new("Frame")
    leftPanel.Name = "leftPanel"
    leftPanel.BackgroundColor3 = Color3.fromRGB(35, 35, 35) -- Slightly lighter than main
    leftPanel.Size = UDim2.fromOffset(200, 370) -- Placeholder size
    leftPanel.Parent = contentFrame

    -- Right panel for Tabs content
    local rightPanel = Instance.new("Frame")
    rightPanel.Name = "rightPanel"
    rightPanel.BackgroundColor3 = Color3.fromRGB(30, 30, 30) -- Same as main
    rightPanel.Size = UDim2.fromOffset(400, 370) -- Placeholder size
    rightPanel.Position = UDim2.fromOffset(200, 0) -- Position next to left panel
    rightPanel.Parent = contentFrame

    -- Existing drag functionality (modified to use new topBar)
    topBar.MouseEnter:Connect(function()
        local Input = topBar.InputBegan:connect(function(Key)
            if Key.UserInputType == Enum.UserInputType.MouseButton1 then
                local ObjectPosition = Vector2.new(Mouse.X - main.AbsolutePosition.X, Mouse.Y - main.AbsolutePosition.Y)
                while RunService.RenderStepped:wait() and UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton1) do
                    local FrameX, FrameY = math.clamp(Mouse.X - ObjectPosition.X, 0, arizon.AbsoluteSize.X - main.AbsoluteSize.X), math.clamp(Mouse.Y - ObjectPosition.Y, 0, arizon.AbsoluteSize.Y - main.AbsoluteSize.Y)
                    game:GetService('TweenService'):Create(main, TweenInfo.new(0.1), {Position = UDim2.fromOffset(FrameX + (main.Size.X.Offset * main.AnchorPoint.X), FrameY + (main.Size.Y.Offset * main.AnchorPoint.Y))}):Play()
                    game:GetService('TweenService'):Create(shadow, TweenInfo.new(0.1), {Position = UDim2.fromOffset(FrameX + (main.Size.X.Offset * main.AnchorPoint.X), FrameY + (main.Size.Y.Offset * main.AnchorPoint.Y))}):Play()
                end
            end
        end)
    end)

    -- Existing close events
    close.MouseEnter:Connect(function()
        game:GetService('TweenService'):Create(close, TweenInfo.new(0.2), {ImageColor3 = Color3.fromRGB(163, 163, 163)}):Play()
    end)

    close.MouseLeave:Connect(function()
        game:GetService('TweenService'):Create(close, TweenInfo.new(0.2), {ImageColor3 = Color3.fromRGB(126, 126, 126)}):Play()
    end)

    close.MouseButton1Click:Connect(function()
        arizon:Destroy()
    end)

    -- Removed menu and search events related to old tabContainer

    local tabHandler = {}

    function tabHandler:Exit()
        arizon:Destroy()
    end

    -- Modified Tab function to create content frames in the right panel
    function tabHandler:Tab(name)
        local tabContentFrame = Instance.new("ScrollingFrame") -- Use ScrollingFrame for potential scrollable content
        tabContentFrame.Name = name -- Name the frame after the tab
        tabContentFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        tabContentFrame.BackgroundTransparency = 1
        tabContentFrame.Size = UDim2.fromScale(1, 1) -- Fill the right panel
        tabContentFrame.Parent = rightPanel -- Parent to the right panel
        tabContentFrame.Visible = false -- Hide by default

        local uIListLayout = Instance.new("UIListLayout")
        uIListLayout.Name = "uIListLayout"
        uIListLayout.Padding = UDim.new(0, 5) -- Padding between sections
        uIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        uIListLayout.Parent = tabContentFrame

        local uIPadding = Instance.new("UIPadding")
        uIPadding.Name = "uIPadding"
        uIPadding.PaddingLeft = UDim.new(0, 10)
        uIPadding.PaddingRight = UDim.new(0, 10)
        uIPadding.PaddingTop = UDim.new(0, 10)
        uIPadding.Parent = tabContentFrame

        -- Logic to switch tabs (will be implemented later)
        -- For now, returning a section handler for this tab's content
        local sectionHandler = {}

        function sectionHandler:Section(title)
            local section = Instance.new("Frame")
            section.Name = "section"
            section.AutomaticSize = Enum.AutomaticSize.Y -- Let height adjust to content
            section.BackgroundColor3 = Color3.fromRGB(45, 45, 45) -- Section background
            section.Size = UDim2.fromScale(1, 0) -- Width fills parent, height is automatic

            local uIPaddingSection = Instance.new("UIPadding")
            uIPaddingSection.Name = "uIPaddingSection"
            uIPaddingSection.PaddingLeft = UDim.new(0, 5)
            uIPaddingSection.PaddingRight = UDim.new(0, 5)
            uIPaddingSection.PaddingTop = UDim.new(0, 5)
            uIPaddingSection.PaddingBottom = UDim.new(0, 5)
            uIPaddingSection.Parent = section

            local uIListLayoutSection = Instance.new("UIListLayout")
            uIListLayoutSection.Name = "uIListLayoutSection"
            uIListLayoutSection.Padding = UDim.new(0, 4) -- Padding between elements
            uIListLayoutSection.SortOrder = Enum.SortOrder.LayoutOrder
            uIListLayoutSection.Parent = section

            local title1 = Instance.new("TextLabel")
            title1.Name = "title1"
            title1.Font = Enum.Font.Gotham
            title1.Text = "— " .. title -- Section title format from image
            title1.TextColor3 = Color3.fromRGB(195, 195, 195)
            title1.TextSize = 11
            title1.TextXAlignment = Enum.TextXAlignment.Left
            title1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            title1.BackgroundTransparency = 1
            title1.Size = UDim2.fromScale(1, 0) -- Width fills parent, height is automatic
            title1.AutomaticSize = Enum.AutomaticSize.Y
            title1.Parent = section

            section.Parent = tabContentFrame

            local elementHandler = {}

            -- Existing element functions will be added here, parented to the section

            return elementHandler
        end

        return sectionHandler -- Return the section handler for this tab
    end

    -- Left panel content creation (Placeholder for now)
    local configsSection = Instance.new("Frame")
    configsSection.Name = "createConfigsSection"
    configsSection.AutomaticSize = Enum.AutomaticSize.Y
    configsSection.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    configsSection.Size = UDim2.fromScale(1, 0) -- Fill left panel width
    configsSection.Parent = leftPanel

    local configsTitle = Instance.new("TextLabel")
    configsTitle.Name = "title"
    configsTitle.Font = Enum.Font.Gotham
    configsTitle.Text = "— Create Configs"
    configsTitle.TextColor3 = Color3.fromRGB(195, 195, 195)
    configsTitle.TextSize = 11
    configsTitle.TextXAlignment = Enum.TextXAlignment.Left
    configsTitle.BackgroundTransparency = 1
    configsTitle.Size = UDim2.fromScale(1, 0)
    configsTitle.AutomaticSize = Enum.AutomaticSize.Y
    configsTitle.Parent = configsSection

    -- Add elements to left panel configsSection (e.g., Textbox, Button)
    local configNameTextbox = Instance.new("TextBox")
    configNameTextbox.Name = "configNameTextbox"
    configNameTextbox.Font = Enum.Font.Gotham
    configNameTextbox.PlaceholderText = "Name"
    configNameTextbox.TextColor3 = Color3.fromRGB(180, 180, 180)
    configNameTextbox.TextSize = 12
    configNameTextbox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    configNameTextbox.Size = UDim2.fromOffset(180, 25) -- Placeholder size
    configNameTextbox.Parent = configsSection

    local loadConfigButton = Instance.new("TextButton")
    loadConfigButton.Name = "loadConfigButton"
    loadConfigButton.Text = "Load"
    loadConfigButton.Font = Enum.Font.Gotham
    loadConfigButton.TextSize = 12
    loadConfigButton.TextColor3 = Color3.fromRGB(180, 180, 180)
    loadConfigButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    loadConfigButton.Size = UDim2.fromOffset(180, 25) -- Placeholder size
    loadConfigButton.Parent = configsSection

    -- Add another section for Config Settings in the left panel
    local settingsSection = Instance.new("Frame")
    settingsSection.Name = "configSettingsSection"
    settingsSection.AutomaticSize = Enum.AutomaticSize.Y
    settingsSection.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    settingsSection.Size = UDim2.fromScale(1, 0) -- Fill left panel width
    settingsSection.Parent = leftPanel

    local settingsTitle = Instance.new("TextLabel")
    settingsTitle.Name = "title"
    settingsTitle.Font = Enum.Font.Gotham
    settingsTitle.Text = "— Config Settings"
    settingsTitle.TextColor3 = Color3.fromRGB(195, 195, 195)
    settingsTitle.TextSize = 11
    settingsTitle.TextXAlignment = Enum.TextXAlignment.Left
    settingsTitle.BackgroundTransparency = 1
    settingsTitle.Size = UDim2.fromScale(1, 0)
    settingsTitle.AutomaticSize = Enum.AutomaticSize.Y
    settingsTitle.Parent = settingsSection

    -- Add buttons to the config settings section
    local loadButton = Instance.new("TextButton")
    loadButton.Name = "loadButton"
    loadButton.Text = "Load"
    loadButton.Font = Enum.Font.Gotham
    loadButton.TextSize = 12
    loadButton.TextColor3 = Color3.fromRGB(180, 180, 180)
    loadButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    loadButton.Size = UDim2.fromOffset(180, 25)
    loadButton.Parent = settingsSection

    local updateButton = Instance.new("TextButton")
    updateButton.Name = "updateButton"
    updateButton.Text = "Update"
    updateButton.Font = Enum.Font.Gotham
    updateButton.TextSize = 12
    updateButton.TextColor3 = Color3.fromRGB(180, 180, 180)
    updateButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    updateButton.Size = UDim2.fromOffset(180, 25)
    updateButton.Parent = settingsSection

    local deleteButton = Instance.new("TextButton")
    deleteButton.Name = "deleteButton"
    deleteButton.Text = "Delete"
    deleteButton.Font = Enum.Font.Gotham
    deleteButton.TextSize = 12
    deleteButton.TextColor3 = Color3.fromRGB(180, 180, 180)
    deleteButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    deleteButton.Size = UDim2.fromOffset(180, 25)
    deleteButton.Parent = settingsSection

    local refreshButton = Instance.new("TextButton")
    refreshButton.Name = "refreshButton"
    refreshButton.Text = "Refresh"
    refreshButton.Font = Enum.Font.Gotham
    refreshButton.TextSize = 12
    refreshButton.TextColor3 = Color3.fromRGB(180, 180, 180)
    refreshButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    refreshButton.Size = UDim2.fromOffset(180, 25)
    refreshButton.Parent = settingsSection

    local leftPanelLayout = Instance.new("UIListLayout")
    leftPanelLayout.Name = "leftPanelLayout"
    leftPanelLayout.Padding = UDim.new(0, 5)
    leftPanelLayout.SortOrder = Enum.SortOrder.LayoutOrder
    leftPanelLayout.Parent = leftPanel

    local leftPanelPadding = Instance.new("UIPadding")
    leftPanelPadding.Name = "leftPanelPadding"
    leftPanelPadding.PaddingLeft = UDim.new(0, 5)
    leftPanelPadding.PaddingRight = UDim.new(0, 5)
    leftPanelPadding.PaddingTop = UDim.new(0, 5)
    leftPanelPadding.Parent = leftPanel


    main.Parent = arizon
    main.AnchorPoint = Vector2.new(0.5,0.5)
    shadow.AnchorPoint = Vector2.new(0.5,0.5)

    main.Position = UDim2.new(0.5,0,0.5,0)
    shadow.Position = UDim2.new(0.5,0,0.5,0)

    -- Removed old event connections

    -- Function to switch tabs
    local function switchTab(tabName)
        for _, frame in pairs(rightPanel:GetChildren()) do
            if frame:IsA("ScrollingFrame") then
                frame.Visible = frame.Name == tabName
            end
        end
        -- Update tab button appearance (highlight selected tab)
        for _, button in pairs(tabButtonsContainer:GetChildren()) do
            if button:IsA("TextButton") then
                if button.Name == tabName .. "Tab" then
                    button.TextColor3 = Color3.fromRGB(255, 255, 255) -- Highlighted color
                else
                    button.TextColor3 = Color3.fromRGB(180, 180, 180) -- Default color
                end
            end
        end
    end

    -- Connect tab button clicks (Placeholder, needs to be done after creating tab content)
    -- legitTab.MouseButton1Click:Connect(function() switchTab("Legit") end)
    -- ragebotTab.MouseButton1Click:Connect(function() switchTab("Ragebot") end)

    -- Placeholder for creating tab contents and connecting tab buttons
    -- You will add calls to Library:CreateTab here, and connect their buttons
    -- Example:
    -- local legitTabContent = tabHandler:Tab("Legit")
    -- legitTab.MouseButton1Click:Connect(function() switchTab("Legit") end)
    -- legitTabContent:Section("Combat") -- Example section within Legit tab

    -- Make the first tab visible by default (assuming "Legit" is the first)
    -- switchTab("Legit")

    -- Create content for all tabs and connect buttons

    local legitTabContent = tabHandler:Tab("Legit")
    legitTab.MouseButton1Click:Connect(function() switchTab("Legit") end)
    -- Add sections and elements to legitTabContent here
    legitTabContent:Section("Combat")
    legitTabContent:Section("Movement")

    local ragebotTabContent = tabHandler:Tab("Ragebot")
    ragebotTab.MouseButton1Click:Connect(function() switchTab("Ragebot") end)
    -- Add sections and elements to ragebotTabContent here
    ragebotTabContent:Section("Aimbot")
    ragebotTabContent:Section("Detection")

    local visualsTabContent = tabHandler:Tab("Visuals")
    visualsTab.MouseButton1Click:Connect(function() switchTab("Visuals") end)
    -- Add sections and elements to visualsTabContent here
    visualsTabContent:Section("ESP")
    visualsTabContent:Section("Models")

    local skinsTabContent = tabHandler:Tab("Skins")
    skinsTab.MouseButton1Click:Connect(function() switchTab("Skins") end)
    -- Add sections and elements to skinsTabContent here
    skinsTabContent:Section("Weapon Skins")
    skinsTabContent:Section("Player Skins")

    local miscTabContent = tabHandler:Tab("Misc")
    miscTab.MouseButton1Click:Connect(function() switchTab("Misc") end)
    -- Add sections and elements to miscTabContent here
    miscTabContent:Section("Utilities")
    miscTabContent:Section("Exploits")

    local luasTabContent = tabHandler:Tab("Luas")
    luasTab.MouseButton1Click:Connect(function() switchTab("Luas") end)
    -- Add sections and elements to luasTabContent here
    luasTabContent:Section("Executor")
    luasTabContent:Section("Scripts")

    -- Create content for the "Settings" tab
    local settingsTabContent = tabHandler:Tab("Settings")

    -- Add sections to the Settings tab
    local uiSettingsSection = settingsTabContent:Section("UI Settings")

    -- Add elements to UI Settings section
    -- Example: Checkbox for Show Game Name
    uiSettingsSection:Toggle("Show Game Name", function(value)
        print("Show Game Name toggled: " .. tostring(value))
        -- Implement logic to show/hide game name
    end)

    -- Example: Textbox for Menu Title
    uiSettingsSection:Textbox("Menu Title", function(text)
        print("Menu Title changed: " .. text)
        -- Implement logic to change menu title
    end)

    -- Example: Textbox for Domain
    uiSettingsSection:Textbox("Domain", function(text)
        print("Domain changed: " .. text)
        -- Implement logic to change domain
    end)

    -- TODO: Add color pickers or textboxes for Domain Accent and Menu Accent
    uiSettingsSection:Textbox("Domain Accent", function(colorCode)
        print("Domain Accent changed: " .. colorCode)
        -- Implement logic to change domain accent color
    end)

     uiSettingsSection:Textbox("Menu Accent", function(colorCode)
        print("Menu Accent changed: " .. colorCode)
        -- Implement logic to change menu accent color
    end)

    local otherSection = settingsTabContent:Section("Other")

    -- Add elements to Other section
    -- Example: Checkbox for Show Keybinds
    otherSection:Toggle("Show Keybinds", function(value)
        print("Show Keybinds toggled: " .. tostring(value))
        -- Implement logic to show/hide keybinds
    end)

    -- Connect the Settings tab button (already found in previous turn)
    local settingsTabButton = tabButtonsContainer:FindFirstChild("SettingsTab")
    if settingsTabButton then
        settingsTabButton.MouseButton1Click:Connect(function() switchTab("Settings") end)
    end

    -- Make the first tab visible by default (e.g., "Legit")
    switchTab("Legit")

    return tabHandler -- Return the tab handler which now includes the Tab function
end

-- Keep the element handler functions, modified to be called within sections created by tabHandler:Section
-- Example modification for Textbox (assuming it's called within a section):
-- function elementHandler:Textbox(title, callback)
--     local textbox = Instance.new("Frame")
--     -- ... existing textbox code ...
--     textbox.Parent = section -- Parent to the current section

--     -- ... existing event connections ...
--     return textbox -- Return the created element
-- end

-- Include all existing elementHandler functions here, ensuring they parent to the 'section' variable

-- Paste the existing elementHandler functions here, outside of Library:Create but within the scope where they can be called by sectionHandler
-- For example:

local elementHandler = {}

function elementHandler:Textbox(title, callback)
    title = title or "Textbox"
    callback = callback or function() end

    local textbox = Instance.new("Frame")
    textbox.Name = "textbox"
    textbox.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
    -- Removed Position, Size and let UIListLayout handle positioning and AutomaticSize handle sizing
    textbox.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic
    textbox.AutomaticSize = Enum.AutomaticSize.Y

    local uICorner2 = Instance.new("UICorner")
    uICorner2.Name = "uICorner2"
    uICorner2.CornerRadius = UDim.new(0, 5)
    uICorner2.Parent = textbox

    local title2 = Instance.new("TextLabel")
    title2.Name = "title2"
    title2.Font = Enum.Font.Gotham
    title2.Text = title
    title2.TextColor3 = Color3.fromRGB(195, 195, 195)
    title2.TextSize = 11
    title2.TextXAlignment = Enum.TextXAlignment.Left
    title2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title2.BackgroundTransparency = 1
    -- Removed LayoutOrder, Position, Size and let UIListLayout handle positioning and AutomaticSize handle sizing
    title2.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic
    title2.AutomaticSize = Enum.AutomaticSize.Y
    title2.Parent = textbox

    local status = Instance.new("Frame")
    status.Name = "status"
    status.BackgroundColor3 = Color3.fromRGB(31, 152, 82)
    status.BackgroundTransparency = 1
    status.Position = UDim2.fromScale(0.775, 0)
    status.Size = UDim2.fromOffset(67, 32)
    status.Parent = textbox

    local uICorner3 = Instance.new("UICorner")
    uICorner3.Name = "uICorner3"
    uICorner3.CornerRadius = UDim.new(0, 5)
    uICorner3.Parent = status

    local frame1 = Instance.new("Frame")
    frame1.Name = "frame1"
    frame1.BackgroundColor3 = Color3.fromRGB(65, 65, 65)
    frame1.BorderSizePixel = 0
    frame1.Position = UDim2.fromScale(-0.418, 0.731)
    frame1.Size = UDim2.fromOffset(95, 1)
    frame1.Parent = status

    local textBox = Instance.new("TextBox")
    textBox.Name = "textBox"
    textBox.Font = Enum.Font.Gotham
    textBox.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
    textBox.PlaceholderText = "placeholder text"
    textBox.Text = ""
    textBox.TextColor3 = Color3.fromRGB(195, 195, 195)
    textBox.TextSize = 10
    textBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    textBox.BackgroundTransparency = 1
    textBox.Position = UDim2.fromScale(-0.418, 0)
    textBox.Size = UDim2.fromOffset(95, 25)
    textBox.Parent = status


    textbox.Parent = section -- Parent to the current section

    textbox.MouseEnter:Connect(function()
        game:GetService('TweenService'):Create(textbox, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(36,36,36)}):Play()
    end)

    textbox.MouseLeave:Connect(function()
        game:GetService('TweenService'):Create(textbox, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(32, 32, 32)}):Play()
    end)

    textBox.FocusLost:Connect(function()
        callback(textBox.Text)
    end)

    return textbox -- Return the created element
end

function elementHandler:Slider(title,min,max,start,inc,callback)
    local slider = Instance.new("Frame")
    slider.Name = "slider"
    slider.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
    slider.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic
    slider.AutomaticSize = Enum.AutomaticSize.Y

    local uICorner4 = Instance.new("UICorner")
    uICorner4.Name = "uICorner4"
    uICorner4.CornerRadius = UDim.new(0, 5)
    uICorner4.Parent = slider

    local title3 = Instance.new("TextLabel")
    title3.Name = "title3"
    title3.Font = Enum.Font.Gotham
    title3.Text = title
    title3.TextColor3 = Color3.fromRGB(195, 195, 195)
    title3.TextSize = 11
    title3.TextXAlignment = Enum.TextXAlignment.Left
    title3.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title3.BackgroundTransparency = 1
    title3.Size = UDim2.fromScale(0.5, 0) -- Half width, height automatic
    title3.AutomaticSize = Enum.AutomaticSize.Y
    title3.Parent = slider

    local bar = Instance.new("Frame")
    bar.Name = "bar"
    bar.BackgroundColor3 = Color3.fromRGB(53, 53, 53)
    bar.Size = UDim2.fromScale(0.45, 0) -- Half width, height automatic
    bar.AutomaticSize = Enum.AutomaticSize.Y
    bar.Parent = slider

    local uICorner5 = Instance.new("UICorner")
    uICorner5.Name = "uICorner5"
    uICorner5.CornerRadius = UDim.new(0, 5)
    uICorner5.Parent = bar

    local progressBar = Instance.new("Frame")
    progressBar.Name = "progressBar"
    progressBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    progressBar.Position = UDim2.fromScale(0, -0.162)
    progressBar.Size = UDim2.fromOffset(60, 6) -- Keep original size for now
    progressBar.BorderSizePixel = 0
    bar.BorderSizePixel = 0

    local uICorner6 = Instance.new("UICorner")
    uICorner6.Name = "uICorner6"
    uICorner6.CornerRadius = UDim.new(0, 5)
    uICorner6.Parent = progressBar

    progressBar.Parent = bar

    local value = Instance.new("TextLabel")
    value.Name = "value"
    value.Font = Enum.Font.Gotham
    value.Text = tostring(start) -- Display initial value
    value.TextColor3 = Color3.fromRGB(195, 195, 195)
    value.TextSize = 12
    value.TextStrokeColor3 = Color3.fromRGB(195, 195, 195)
    value.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    value.BackgroundTransparency = 1
    value.Size = UDim2.fromScale(0.1, 0) -- Small width, height automatic
    value.AutomaticSize = Enum.AutomaticSize.Y
    value.Parent = slider

    local sliderLayout = Instance.new("UIListLayout")
    sliderLayout.Name = "sliderLayout"
    sliderLayout.FillDirection = Enum.FillDirection.Horizontal
    sliderLayout.VerticalAlignment = Enum.VerticalAlignment.Center
    sliderLayout.Parent = slider

    slider.Parent = section

    --// SLIDER NOT MADE BY ME - FROM SOLARIS LIBRARY

    local Slider,SliderMain = {Value = start}, slider
    local dragging = false

    local function move(Input)
        local XSize = math.clamp((Input.Position.X - SliderMain.bar.AbsolutePosition.X) / SliderMain.bar.AbsoluteSize.X, 0, 1)
        local Increment = inc and (max / ((max - min) / (inc * 4))) or (max >= 50 and max / ((max - min) / 4)) or (max >= 25 and max / ((max - min) / 2)) or (max / (max - min))
        local SizeRounded = UDim2.new((math.round(XSize * ((max / Increment) * 4)) / ((max / Increment) * 4)), 0, 1, 0)
        TweenService:Create(progressBar,TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),{Size = SizeRounded}):Play()
        local Val = math.round((((SizeRounded.X.Scale * max) / max) * (max - min) + min) * 20) / 20
        value.Text = tostring(Val)
        Slider.Value = Val
        callback(Slider.Value)
    end
    SliderMain.bar.InputBegan:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = true end end)
    SliderMain.bar.InputEnded:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end end)
    game:GetService("UserInputService").InputChanged:Connect(function(input) if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then move(input) end end)

    function Slider:Set(val)
        local a = tostring(val and (val / max) * (max - min) + min) or 0
        value.Text = tostring(a)
        progressBar.Size = UDim2.new((val or 0) / max, 0, 1, 0)
        Slider.Value = val
        return callback(Slider.Value)
    end

    Slider:Set(start)
    return Slider
end

function elementHandler:Label(title)
    local label = Instance.new("Frame")
    label.Name = "label"
    label.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
    label.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic
    label.AutomaticSize = Enum.AutomaticSize.Y

    local uICorner7 = Instance.new("UICorner")
    uICorner7.Name = "uICorner7"
    uICorner7.CornerRadius = UDim.new(0, 5)
    uICorner7.Parent = label

    local title4 = Instance.new("TextLabel")
    title4.Name = "title4"
    title4.Font = Enum.Font.Gotham
    title4.Text = title
    title4.TextColor3 = Color3.fromRGB(195, 195, 195)
    title4.TextSize = 11
    title4.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title4.BackgroundTransparency = 1
    title4.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic
    title4.AutomaticSize = Enum.AutomaticSize.Y
    title4.TextXAlignment = Enum.TextXAlignment.Left
    title4.Parent = label

    label.Parent = section

    local Label = {}

    function Label:Set(title)
        title4.Text = title
    end

    return Label
end

function elementHandler:Button(title, callback)
    local uIButton = Instance.new("TextButton")
    uIButton.Name = "uIButton"
    uIButton.Font = Enum.Font.Gotham -- Changed font to Gotham
    uIButton.Text = ""
    uIButton.TextColor3 = Color3.fromRGB(195, 195, 195) -- Changed text color
    uIButton.TextSize = 11 -- Changed text size
    uIButton.AutoButtonColor = false
    uIButton.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
    uIButton.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic
    uIButton.AutomaticSize = Enum.AutomaticSize.Y

    local uICorner17 = Instance.new("UICorner")
    uICorner17.Name = "uICorner17"
    uICorner17.CornerRadius = UDim.new(0, 5)
    uICorner17.Parent = uIButton

    local title10 = Instance.new("TextLabel")
    title10.Name = "title10"
    title10.Font = Enum.Font.Gotham
    title10.Text = title
    title10.TextColor3 = Color3.fromRGB(195, 195, 195)
    title10.TextSize = 11
    title10.TextXAlignment = Enum.TextXAlignment.Left
    title10.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title10.BackgroundTransparency = 1
    title10.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic
    title10.AutomaticSize = Enum.AutomaticSize.Y
    title10.Parent = uIButton

    uIButton.Parent = section

    uIButton.MouseEnter:Connect(function()
        game:GetService('TweenService'):Create(uIButton, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(36,36,36)}):Play()
    end)

    uIButton.MouseLeave:Connect(function()
        game:GetService('TweenService'):Create(uIButton, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(32, 32, 32)}):Play()
    end)

    uIButton.MouseButton1Click:Connect(function()
        callback()
    end)
end

function elementHandler:Toggle(title, callback)
    title = title or "Toggle"
    callback = callback or function() end

    local textButton1 = Instance.new("TextButton")
    textButton1.Name = "textButton1"
    textButton1.Font = Enum.Font.Gotham -- Changed font
    textButton1.Text = ""
    textButton1.TextColor3 = Color3.fromRGB(195, 195, 195) -- Changed text color
    textButton1.TextSize = 11 -- Changed text size
    textButton1.AutoButtonColor = false
    textButton1.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
    textButton1.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic
    textButton1.AutomaticSize = Enum.AutomaticSize.Y

    local uICorner10 = Instance.new("UICorner")
    uICorner10.Name = "uICorner10"
    uICorner10.CornerRadius = UDim.new(0, 5)
    uICorner10.Parent = textButton1

    local title6 = Instance.new("TextLabel")
    title6.Name = "title6"
    title6.Font = Enum.Font.Gotham
    title6.Text = title
    title6.TextColor3 = Color3.fromRGB(195, 195, 195)
    title6.TextSize = 11
    title6.TextXAlignment = Enum.TextXAlignment.Left
    title6.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title6.BackgroundTransparency = 1
    title6.Size = UDim2.fromScale(0.8, 0) -- Fill most of width, height automatic
    title6.AutomaticSize = Enum.AutomaticSize.Y
    title6.Parent = textButton1

    local status2 = Instance.new("Frame")
    status2.Name = "status2"
    status2.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
    status2.Position = UDim2.fromScale(0.912, 0.188) -- Keep relative position for now
    status2.Size = UDim2.fromOffset(20, 20) -- Keep fixed size
    status2.Parent = textButton1

    local uICorner11 = Instance.new("UICorner")
    uICorner11.Name = "uICorner11"
    uICorner11.CornerRadius = UDim.new(0, 5)
    uICorner11.Parent = status2

    local uIStroke1 = Instance.new("UIStroke")
    uIStroke1.Name = "uIStroke1"
    uIStroke1.Color = Color3.fromRGB(48, 48, 48)
    uIStroke1.Parent = status2


    textButton1.Parent = section

    local tog = false

    textButton1.MouseEnter:Connect(function()
        game:GetService('TweenService'):Create(textButton1, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(36,36,36)}):Play()
    end)

    textButton1.MouseLeave:Connect(function()
        game:GetService('TweenService'):Create(textButton1, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(32, 32, 32)}):Play()
    end)

    textButton1.MouseButton1Click:Connect(function()
        tog = not tog
        callback(tog)
        if tog then
            game:GetService('TweenService'):Create(status2, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(31, 152, 82)}):Play()
            game:GetService('TweenService'):Create(uIStroke1, TweenInfo.new(0.2), {Color = Color3.fromRGB(52, 255, 137)}):Play()
        else
            game:GetService('TweenService'):Create(status2, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(38, 38, 38)}):Play()
            game:GetService('TweenService'):Create(uIStroke1, TweenInfo.new(0.2), {Color = Color3.fromRGB(48, 48, 48)}):Play()
        end
    end)
end

function elementHandler:Dropdown(text,list,def,callback)
    local dropdown = Instance.new("Frame")
    dropdown.Name = "dropdown"
    dropdown.AutomaticSize = Enum.AutomaticSize.Y
    dropdown.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
    dropdown.Size = UDim2.fromScale(1, 0) -- Fill width, height automatic

    local uICorner12 = Instance.new("UICorner")
    uICorner12.Name = "uICorner12"
    uICorner12.CornerRadius = UDim.new(0, 5)
    uICorner12.Parent = dropdown

    local dropdownHolder = Instance.new("Frame")
    dropdownHolder.Name = "dropdownHolder"
    dropdownHolder.AutomaticSize = Enum.AutomaticSize.Y
    dropdownHolder.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    dropdownHolder.BackgroundTransparency = 1
    dropdownHolder.Position = UDim2.fromScale(0, 0.938) -- Keep relative position for now
    dropdownHolder.Size = UDim2.fromOffset(342, 0) -- Keep original size for now


    local uIListLayout2 = Instance.new("UIListLayout")
    uIListLayout2.Name = "uIListLayout2"
    uIListLayout2.Padding = UDim.new(0, 3)
    uIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
    uIListLayout2.Parent = dropdownHolder

    local uIPadding1 = Instance.new("UIPadding")
    uIPadding1.Name = "uIPadding1"
    uIPadding1.PaddingTop = UDim.new(0, 4)
    uIPadding1.Parent = dropdownHolder

    local dropdownElement = Instance.new("TextButton")
    dropdownElement.Name = "dropdownElement"
    dropdownElement.Font = Enum.Font.Gotham -- Changed font
    dropdownElement.Text = ""
    dropdownElement.TextColor3 = Color3.fromRGB(195, 195, 195) -- Changed text color
    dropdownElement.TextSize = 11 -- Changed text size
    dropdownElement.AutoButtonColor = false
    dropdownElement.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
    dropdownElement.Size = UDim2.fromScale(1, 25) -- Fill width, fixed height

    local uICorner13 = Instance.new("UICorner")
    uICorner13.Name = "uICorner13"
    uICorner13.CornerRadius = UDim.new(0, 5)
    uICorner13.Parent = dropdownElement

    local title7 = Instance.new("TextLabel")
    title7.Name = "title7"
    title7.Font = Enum.Font.Gotham
    title7.Text = "Ex"
    title7.TextColor3 = Color3.fromRGB(195, 195, 195)
    title7.TextSize = 11
    title7.TextXAlignment = Enum.TextXAlignment.Left
    title7.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title7.BackgroundTransparency = 1
    title7.Size = UDim2.fromScale(1, 1) -- Fill parent
    title7.Parent = dropdownElement


    dropdownHolder.Parent = dropdown

    local button = Instance.new("TextButton")
    button.Name = "button"
    button.Font = Enum.Font.Gotham -- Changed font
    button.Text = ""
    button.TextColor3 = Color3.fromRGB(195, 195, 195) -- Changed text color
    button.TextSize = 11 -- Changed text size
    button.AutoButtonColor = false
    button.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
    button.Size = UDim2.fromScale(1, 32) -- Fill width, fixed height


    local uICorner14 = Instance.new("UICorner")
    uICorner14.Name = "uICorner14"
    uICorner14.CornerRadius = UDim.new(0, 5)
    uICorner14.Parent = button

    local title8 = Instance.new("TextLabel")
    title8.Name = "title8"
    title8.Font = Enum.Font.Gotham
    title8.Text = "Dropdown - "
    title8.TextColor3 = Color3.fromRGB(195, 195, 195)
    title8.TextSize = 11
    title8.TextXAlignment = Enum.TextXAlignment.Left
    title8.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title8.BackgroundTransparency = 1
    title8.Size = UDim2.fromScale(0.9, 1) -- Fill most of width
    title8.Parent = button

    local icon = Instance.new("ImageLabel")
    icon.Name = "icon"
    icon.Image = "rbxassetid://6034818379"
    icon.ImageTransparency = 0.4
    icon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    icon.BackgroundTransparency = 1
    icon.Position = UDim2.fromScale(0.924, 0.25) -- Keep relative position for now
    icon.Size = UDim2.fromOffset(16, 16) -- Keep fixed size
    icon.Parent = button

    button.Parent = dropdown

    local uIListLayout3 = Instance.new("UIListLayout")
    uIListLayout3.Name = "uIListLayout3"
    uIListLayout3.SortOrder = Enum.SortOrder.LayoutOrder
    uIListLayout3.Parent = dropdown

    local dropdownSeperator = Instance.new("Frame")
    dropdownSeperator.Name = "dropdownSeperator"
    dropdownSeperator.BackgroundColor3 = Color3.fromRGB(58, 58, 58)
    dropdownSeperator.BorderSizePixel = 0
    dropdownSeperator.LayoutOrder = -1
    dropdownSeperator.Position = UDim2.fromScale(0, 0.862) -- Keep relative position for now
    dropdownSeperator.Size = UDim2.fromScale(1, 1) -- Fill width
    dropdownSeperator.Parent = dropdown
    dropdownSeperator.Visible = false


    dropdown.Parent = section
    dropdownHolder.Visible = false

    button.MouseEnter:Connect(function()
        game:GetService('TweenService'):Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(36,36,36)}):Play()
    end)

    button.MouseLeave:Connect(function()
        game:GetService('TweenService'):Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(32, 32, 32)}):Play()
    end)

    --// Dropdown scripts
    local Dropdown,DropMain,OptionPreset = {Value = nil, Toggled = false, Options = list}, dropdown, dropdownElement

    local function ToggleDrop()
        Dropdown.Toggled = not Dropdown.Toggled
        -- Adjust dropdownHolder size based on content and add to dropdown height
        if Dropdown.Toggled then
             dropdownHolder.Size = UDim2.new(1,0,0,6+uIListLayout2.AbsoluteContentSize.Y)
             DropMain.Size = UDim2.new(1,0,0,38+uIListLayout2.AbsoluteContentSize.Y)
        else
            dropdownHolder.Size = UDim2.new(1,0,0,0)
            DropMain.Size = UDim2.new(1,0,0,32)
        end
        dropdownHolder.Visible = Dropdown.Toggled
        dropdownSeperator.Visible = Dropdown.Toggled and true or false
        TweenService:Create(icon,TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),{Rotation = Dropdown.Toggled and 180 or 0}):Play()
    end

    local function AddOptions(opts)
        for _,option in pairs(opts) do
            local Option = OptionPreset:Clone()
            Option.Visible = true
            Option.Parent = dropdownHolder
            print(option)
            Option.title7.Text = option
            Option.ClipsDescendants = true

            Option.MouseButton1Click:Connect(function()
                Dropdown.Value = option
                title8.Text = text .. " - " .. option
                ToggleDrop() -- Close dropdown after selection
                return callback(Dropdown.Value)
            end)

            Option.MouseEnter:Connect(function()
                game:GetService('TweenService'):Create(Option, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(36,36,36)}):Play()
            end)
                
            Option.MouseLeave:Connect(function()
                game:GetService('TweenService'):Create(Option, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(32, 32, 32)}):Play()
            end)
        end
         -- Update main dropdown size after adding options
        if Dropdown.Toggled then
            dropdownHolder.Size = UDim2.new(1,0,0,6+uIListLayout2.AbsoluteContentSize.Y)
            DropMain.Size = UDim2.new(1,0,0,38+uIListLayout2.AbsoluteContentSize.Y)
        end
    end

    function Dropdown:Refresh(opts,del)
        if del then
            for _,v in pairs(dropdownHolder:GetChildren()) do
                if v:IsA"TextButton" then
                    v:Destroy()
                end
            end
        end
        AddOptions(opts)
    end


    button.MouseButton1Click:Connect(function()
        ToggleDrop()
    end)

    function Dropdown:Set(val)
        Dropdown.Value = val
        title8.Text = text .. " - " .. val
        return callback(Dropdown.Value)
    end

    Dropdown:Refresh(list,false)
    Dropdown:Set(def)
    return Dropdown
end


-- Return the main Library object
return Library
