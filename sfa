local arizon = Instance.new("ScreenGui")
arizon.Name = "arizon"
arizon.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
arizon.Parent = game.CoreGui

local Library = {}
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

function Library:Create(table)
    local main = Instance.new("Frame")
    main.Name = "main"
    main.BackgroundColor3 = Color3.fromRGB(26, 26, 26)
    main.Position = UDim2.fromScale(0.321, 0.341)
    main.Size = UDim2.fromOffset(361, 246)

    local uICorner = Instance.new("UICorner")
    uICorner.Name = "uICorner"
    uICorner.CornerRadius = UDim.new(0, 6)
    uICorner.Parent = main

    local topBar = Instance.new("Frame")
    topBar.Name = "topBar"
    topBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    topBar.Size = UDim2.fromOffset(361, 36)

    local uICorner1 = Instance.new("UICorner")
    uICorner1.Name = "uICorner1"
    uICorner1.CornerRadius = UDim.new(0, 6)
    uICorner1.Parent = topBar

    local title = Instance.new("TextLabel")
    title.Name = "title"
    title.Font = Enum.Font.Gotham
    title.Text = table.Name
    title.TextColor3 = Color3.fromRGB(31, 152, 82)
    title.TextSize = 12
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    title.BackgroundTransparency = 1
    title.Position = UDim2.fromScale(0.0861, 0.25)
    title.Size = UDim2.fromOffset(83, 18)
    title.Parent = topBar

    local close = Instance.new("ImageButton")
    close.Name = "close"
    close.Image = "rbxassetid://6031094678"
    close.ImageColor3 = Color3.fromRGB(126, 126, 126)
    close.ScaleType = Enum.ScaleType.Fit
    close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    close.BackgroundTransparency = 1
    close.Position = UDim2.fromScale(0.931, 0.25)
    close.Size = UDim2.fromOffset(16, 16)
    close.Parent = topBar

    topBar.Parent = main

    local container = Instance.new("ScrollingFrame")
    container.Name = "container"
    container.ScrollBarImageColor3 = Color3.fromRGB(53, 53, 53)
    container.ScrollBarThickness = 2
    container.Active = true
    container.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    container.BackgroundTransparency = 1
    container.BorderSizePixel = 0
    container.Position = UDim2.fromScale(0, 0.146)
    container.Size = UDim2.fromOffset(361, 200)
    container.ZIndex = -1

    local uIListLayout = Instance.new("UIListLayout")
    uIListLayout.Name = "uIListLayout"
    uIListLayout.Padding = UDim.new(0, 4)
    uIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    uIListLayout.Parent = container

    container.Parent = main
    main.Parent = arizon

    --// Close events
    close.MouseEnter:Connect(function()
        game:GetService('TweenService'):Create(close, TweenInfo.new(0.2), {ImageColor3 = Color3.fromRGB(163, 163, 163)}):Play()
    end)

    close.MouseLeave:Connect(function()
        game:GetService('TweenService'):Create(close, TweenInfo.new(0.2), {ImageColor3 = Color3.fromRGB(126, 126, 126)}):Play()
    end)

    close.MouseButton1Click:Connect(function()
        arizon:Destroy()
    end)

    --// Drag
    topBar.MouseEnter:Connect(function()
        local Input = topBar.InputBegan:connect(function(Key)
            if Key.UserInputType == Enum.UserInputType.MouseButton1 then
                local ObjectPosition = Vector2.new(Mouse.X - main.AbsolutePosition.X, Mouse.Y - main.AbsolutePosition.Y)
                while RunService.RenderStepped:wait() and UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton1) do
                    local FrameX, FrameY = math.clamp(Mouse.X - ObjectPosition.X, 0, arizon.AbsoluteSize.X - main.AbsoluteSize.X), math.clamp(Mouse.Y - ObjectPosition.Y, 0, arizon.AbsoluteSize.Y - main.AbsoluteSize.Y)
                    game:GetService('TweenService'):Create(main, TweenInfo.new(0.1), {Position = UDim2.fromOffset(FrameX + (main.Size.X.Offset * main.AnchorPoint.X), FrameY + (main.Size.Y.Offset * main.AnchorPoint.Y))}):Play()
                end
            end
        end)
    end)

    local elementHandler = {}

    function elementHandler:Button(title, callback)
        local button = Instance.new("TextButton")
        button.Name = "button"
        button.Font = Enum.Font.SourceSans
        button.Text = ""
        button.TextColor3 = Color3.fromRGB(0, 0, 0)
        button.TextSize = 14
        button.AutoButtonColor = false
        button.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
        button.Size = UDim2.fromOffset(342, 32)

        local uICorner = Instance.new("UICorner")
        uICorner.CornerRadius = UDim.new(0, 5)
        uICorner.Parent = button

        local titleLabel = Instance.new("TextLabel")
        titleLabel.Name = "title"
        titleLabel.Font = Enum.Font.Gotham
        titleLabel.Text = title
        titleLabel.TextColor3 = Color3.fromRGB(195, 195, 195)
        titleLabel.TextSize = 11
        titleLabel.TextXAlignment = Enum.TextXAlignment.Left
        titleLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        titleLabel.BackgroundTransparency = 1
        titleLabel.Position = UDim2.fromScale(0.0188, 0.219)
        titleLabel.Size = UDim2.fromOffset(83, 18)
        titleLabel.Parent = button

        button.Parent = container

        button.MouseEnter:Connect(function()
            game:GetService('TweenService'):Create(button, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(36,36,36)}):Play()
        end)

        button.MouseLeave:Connect(function()
            game:GetService('TweenService'):Create(button, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(32, 32, 32)}):Play()
        end)

        button.MouseButton1Click:Connect(function()
            callback()
        end)
    end

    function elementHandler:Toggle(title, callback)
        local button = Instance.new("TextButton")
        button.Name = "button"
        button.Font = Enum.Font.SourceSans
        button.Text = ""
        button.TextColor3 = Color3.fromRGB(0, 0, 0)
        button.TextSize = 14
        button.AutoButtonColor = false
        button.BackgroundColor3 = Color3.fromRGB(32, 32, 32)
        button.Size = UDim2.fromOffset(342, 32)

        local uICorner = Instance.new("UICorner")
        uICorner.CornerRadius = UDim.new(0, 5)
        uICorner.Parent = button

        local titleLabel = Instance.new("TextLabel")
        titleLabel.Name = "title"
        titleLabel.Font = Enum.Font.Gotham
        titleLabel.Text = title
        titleLabel.TextColor3 = Color3.fromRGB(195, 195, 195)
        titleLabel.TextSize = 11
        titleLabel.TextXAlignment = Enum.TextXAlignment.Left
        titleLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        titleLabel.BackgroundTransparency = 1
        titleLabel.Position = UDim2.fromScale(0.0188, 0.219)
        titleLabel.Size = UDim2.fromOffset(83, 18)
        titleLabel.Parent = button

        local status = Instance.new("Frame")
        status.Name = "status"
        status.BackgroundColor3 = Color3.fromRGB(38, 38, 38)
        status.Position = UDim2.fromScale(0.912, 0.188)
        status.Size = UDim2.fromOffset(20, 20)

        local uICorner2 = Instance.new("UICorner")
        uICorner2.CornerRadius = UDim.new(0, 5)
        uICorner2.Parent = status

        local uIStroke = Instance.new("UIStroke")
        uIStroke.Color = Color3.fromRGB(48, 48, 48)
        uIStroke.Parent = status

        status.Parent = button
        button.Parent = container

        local tog = false

        button.MouseEnter:Connect(function()
            game:GetService('TweenService'):Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(36,36,36)}):Play()
        end)

        button.MouseLeave:Connect(function()
            game:GetService('TweenService'):Create(button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(32, 32, 32)}):Play()
        end)

        button.MouseButton1Click:Connect(function()
            tog = not tog
            callback(tog)
            if tog then
                game:GetService('TweenService'):Create(status, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(31, 152, 82)}):Play()
                game:GetService('TweenService'):Create(uIStroke, TweenInfo.new(0.2), {Color = Color3.fromRGB(52, 255, 137)}):Play()
            else
                game:GetService('TweenService'):Create(status, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(38, 38, 38)}):Play()
                game:GetService('TweenService'):Create(uIStroke, TweenInfo.new(0.2), {Color = Color3.fromRGB(48, 48, 48)}):Play()
            end
        end)
    end

    return elementHandler
end

return Library 
